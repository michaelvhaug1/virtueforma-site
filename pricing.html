<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pricing - Forma</title>
  <meta name="description" content="Forma pricing plans for individuals, families, and organizations. Premium by design, priced for the whole Church.">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="logo-green.png">

  <!-- Google Fonts - Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-green: #1F7A4D;
      --primary-green-light: #E6F4EE;
      --bg-color: #F7F6F3;
      --text-primary: #1B1B1B;
      --text-secondary: #5C5C5C;
      --text-tertiary: #8A8A8A;
      --surface: #FFFFFF;
      --border: #E0E0E0;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-primary);
      min-height: 100vh;
      padding: 24px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .logo-link {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      margin-bottom: 20px;
    }

    .logo {
      width: 44px;
      height: 44px;
    }

    .brand-name {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 3px;
      color: var(--text-primary);
    }

    .headline {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 10px;
    }

    .subheadline {
      font-size: 15px;
      color: var(--text-secondary);
      max-width: 480px;
      margin: 0 auto;
    }

    /* Pricing Grid */
    .pricing-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .pricing-card {
      background: var(--surface);
      border-radius: 14px;
      padding: 24px;
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
    }

    .plan-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--primary-green);
      margin-bottom: 4px;
    }

    .plan-name {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 6px;
    }

    .plan-description {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 16px;
      line-height: 1.4;
    }

    .price {
      display: flex;
      align-items: baseline;
      gap: 4px;
      margin-bottom: 4px;
    }

    .price-amount {
      font-size: 32px;
      font-weight: 700;
      color: var(--text-primary);
    }

    .price-period {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .price-starting {
      font-size: 12px;
      color: var(--text-secondary);
      margin-right: 4px;
    }

    .price-note {
      font-size: 11px;
      color: var(--text-tertiary);
      margin-bottom: 16px;
    }

    .tier-link {
      color: var(--primary-green);
      cursor: pointer;
      text-decoration: underline;
    }

    .tier-link:hover {
      color: var(--text-primary);
    }

    /* Tier table */
    .tier-table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }

    .tier-table th,
    .tier-table td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .tier-table th {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--text-tertiary);
      background: var(--bg-color);
    }

    .tier-table td {
      font-size: 14px;
      color: var(--text-primary);
    }

    .tier-table tr:last-child td {
      border-bottom: none;
    }

    .tier-table .tier-price {
      font-weight: 600;
      color: var(--primary-green);
    }

    .features-list {
      list-style: none;
      margin-bottom: 20px;
      flex-grow: 1;
    }

    .features-list li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 10px;
    }

    .features-list li svg {
      width: 16px;
      height: 16px;
      fill: var(--primary-green);
      flex-shrink: 0;
      margin-top: 1px;
    }

    .cta-button {
      display: block;
      background-color: var(--primary-green);
      color: white;
      text-decoration: none;
      padding: 12px 20px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      text-align: center;
      transition: transform 0.2s, box-shadow 0.2s;
      border: none;
      cursor: pointer;
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(31, 122, 77, 0.3);
    }

    .cta-button.secondary {
      background-color: transparent;
      color: var(--primary-green);
      border: 2px solid var(--primary-green);
    }

    .cta-button.secondary:hover {
      background-color: var(--primary-green-light);
    }

    /* Bottom Links */
    .bottom-links {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin-bottom: 32px;
      flex-wrap: wrap;
    }

    .text-link {
      font-size: 13px;
      color: var(--text-secondary);
      text-decoration: none;
      cursor: pointer;
    }

    .text-link:hover {
      color: var(--primary-green);
      text-decoration: underline;
    }

    /* Clergy Section - Compact & Centered */
    .clergy-section {
      background: var(--surface);
      border-radius: 14px;
      padding: 24px 32px;
      text-align: center;
      border: 1px solid var(--border);
      margin-bottom: 32px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .clergy-section h3 {
      font-size: 16px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .clergy-section p {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .clergy-section .cta-button {
      display: inline-block;
    }

    /* Footer */
    .footer {
      text-align: center;
      font-size: 11px;
      color: var(--text-tertiary);
    }

    .footer a {
      color: var(--primary-green);
      text-decoration: none;
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: var(--surface);
      border-radius: 16px;
      padding: 32px;
      max-width: 480px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-tertiary);
      line-height: 1;
    }

    .modal-close:hover {
      color: var(--text-primary);
    }

    .modal h3 {
      font-size: 20px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 16px;
    }

    .modal p, .modal li {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .modal strong {
      color: var(--text-primary);
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-primary);
      margin-bottom: 6px;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--primary-green);
    }

    .success-message {
      background: var(--primary-green-light);
      border: 1px solid var(--primary-green);
      border-radius: 8px;
      padding: 16px;
      text-align: center;
      color: var(--primary-green);
      font-weight: 500;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .headline {
        font-size: 24px;
      }

      .pricing-grid {
        grid-template-columns: 1fr;
      }

      .bottom-links {
        flex-direction: column;
        align-items: center;
        gap: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <a href="/" class="logo-link">
        <img src="logo-green.png" alt="Forma Logo" class="logo">
        <span class="brand-name">FORMA</span>
      </a>
      <h1 class="headline">Choose your formation path</h1>
      <p class="subheadline">Forma helps Catholics live their faith daily — alone or together — with clarity, accountability, and charity.</p>
    </header>

    <!-- Pricing Grid -->
    <div class="pricing-grid">
      <!-- Individual / Personal Formation -->
      <div class="pricing-card">
        <span class="plan-label">Personal Formation</span>
        <h2 class="plan-name">Individual</h2>
        <p class="plan-description">Personal faith formation with optional community features</p>
        <div class="price">
          <span class="price-amount">$4.99</span>
          <span class="price-period">/month</span>
        </div>
        <p class="price-note">$49.99/year (save 17%)</p>
        <ul class="features-list">
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Daily habit tracking
          </li>
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Liturgical calendar
          </li>
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Groups and community
          </li>
        </ul>
        <a href="/app" class="cta-button">Get Started</a>
      </div>

      <!-- Family / Private Shared Formation -->
      <div class="pricing-card">
        <span class="plan-label">Private Shared Formation</span>
        <h2 class="plan-name">Family</h2>
        <p class="plan-description">A private, invite-only faith journey for households</p>
        <div class="price">
          <span class="price-amount">$14.99</span>
          <span class="price-period">/month</span>
        </div>
        <p class="price-note">Up to 5 members. $24.99/mo for up to 10.</p>
        <ul class="features-list">
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Private family feed
          </li>
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Shared goals & accountability
          </li>
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Not publicly discoverable
          </li>
        </ul>
        <a href="/family" class="cta-button">Create Family</a>
      </div>

      <!-- Enterprise / Managed Community Formation -->
      <div class="pricing-card">
        <span class="plan-label">Managed Community Formation</span>
        <h2 class="plan-name">Enterprise</h2>
        <p class="plan-description">Structured formation for parishes, schools, and organizations</p>
        <div class="price">
          <span class="price-starting">Starting at</span>
          <span class="price-amount">$79</span>
          <span class="price-period">/month</span>
        </div>
        <p class="price-note">Tiered by member count. <a class="tier-link" onclick="openModal('tiers-modal')">View tiers</a></p>
        <ul class="features-list">
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Admin dashboard & controls
          </li>
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Organization-wide goals
          </li>
          <li>
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            Custom branding
          </li>
        </ul>
        <a href="/enterprise" class="cta-button secondary">Create Organization</a>
      </div>
    </div>

    <!-- Bottom Links -->
    <div class="bottom-links">
      <a class="text-link" onclick="openModal('billing-modal')">Billing & Invoicing Terms</a>
      <span style="color: var(--border);">|</span>
      <a class="text-link" href="mailto:hello@virtueforma.faith">Volume pricing inquiries</a>
    </div>

    <!-- Clergy Section -->
    <div class="clergy-section">
      <h3>Free for Priests and Religious</h3>
      <p>Those who serve the Church receive free access. Request verification below.</p>
      <button class="cta-button secondary" onclick="openModal('clergy-modal')">Request Clergy Access</button>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>10% of every subscription goes to charity.</p>
      <p style="margin-top: 8px;"><a href="/">Back to Home</a></p>
    </footer>
  </div>

  <!-- Billing Terms Modal -->
  <div class="modal-overlay" id="billing-modal">
    <div class="modal">
      <button class="modal-close" onclick="closeModal('billing-modal')">&times;</button>
      <h3>Billing & Invoicing Terms</h3>

      <p><strong>Manual Invoicing</strong><br>
      Family and Organization plans are billed manually. After setup, you'll receive an invoice via email within 1-2 business days.</p>

      <p><strong>First Invoice Due Within 30 Days</strong><br>
      Your first invoice is due within 30 days. You may begin using Forma immediately.</p>

      <p><strong>Payment Methods</strong><br>
      We accept credit card, debit card, ACH bank transfer, or check.</p>

      <p><strong>Account Status</strong><br>
      Accounts are created in "Pending Activation" status with full access. Accounts may be suspended if payment is not received within 30 days of the invoice date. We will send reminders before any action is taken.</p>

      <p style="margin-top: 20px; text-align: center;">
        <button class="cta-button" onclick="closeModal('billing-modal')">Got it</button>
      </p>
    </div>
  </div>

  <!-- Clergy Access Modal -->
  <div class="modal-overlay" id="clergy-modal">
    <div class="modal">
      <button class="modal-close" onclick="closeModal('clergy-modal')">&times;</button>

      <div id="clergy-form-container">
        <h3>Request Clergy Access</h3>
        <p>We verify all clergy requests to ensure free access goes to those serving the Church.</p>

        <form id="clergy-form" onsubmit="submitClergyRequest(event)">
          <div class="form-group">
            <label for="clergy-name">Full Name *</label>
            <input type="text" id="clergy-name" name="name" required>
          </div>

          <div class="form-group">
            <label for="clergy-role">Role *</label>
            <select id="clergy-role" name="role" required>
              <option value="">Select your role...</option>
              <option value="priest">Priest</option>
              <option value="deacon">Deacon</option>
              <option value="religious_brother">Religious Brother</option>
              <option value="religious_sister">Religious Sister</option>
              <option value="seminarian">Seminarian</option>
            </select>
          </div>

          <div class="form-group">
            <label for="clergy-parish">Parish, Diocese, or Religious Order *</label>
            <input type="text" id="clergy-parish" name="parish_or_order" required placeholder="e.g., St. Mary's Parish, Archdiocese of Seattle">
          </div>

          <div class="form-group">
            <label for="clergy-email">Your Email *</label>
            <input type="email" id="clergy-email" name="email" required>
          </div>

          <div class="form-group">
            <label for="clergy-verifier">Parish Office or Superior Email (for verification)</label>
            <input type="email" id="clergy-verifier" name="verifier_email" placeholder="Optional - helps speed up verification">
          </div>

          <p style="margin-top: 20px;">
            <button type="submit" class="cta-button">Submit Request</button>
          </p>
        </form>
      </div>

      <div id="clergy-success" style="display: none;">
        <div class="success-message">
          <p style="margin: 0; font-size: 16px;">Thank you for your request!</p>
          <p style="margin: 8px 0 0 0; font-weight: normal;">We'll verify your information and email you within 2-3 business days with your access code.</p>
        </div>
        <p style="margin-top: 20px; text-align: center;">
          <button class="cta-button secondary" onclick="closeModal('clergy-modal')">Close</button>
        </p>
      </div>
    </div>
  </div>

  <!-- Enterprise Tiers Modal -->
  <div class="modal-overlay" id="tiers-modal">
    <div class="modal">
      <button class="modal-close" onclick="closeModal('tiers-modal')">&times;</button>
      <h3>Enterprise Pricing Tiers</h3>
      <p>Pricing scales by member count. All tiers include the same features.</p>

      <table class="tier-table">
        <thead>
          <tr>
            <th>Members</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Up to 50</td>
            <td class="tier-price">$79/mo</td>
          </tr>
          <tr>
            <td>Up to 100</td>
            <td class="tier-price">$149/mo</td>
          </tr>
          <tr>
            <td>Up to 150</td>
            <td class="tier-price">$199/mo</td>
          </tr>
          <tr>
            <td>Up to 300</td>
            <td class="tier-price">$349/mo</td>
          </tr>
          <tr>
            <td>300+</td>
            <td class="tier-price">Contact us</td>
          </tr>
        </tbody>
      </table>

      <p style="font-size: 12px; color: var(--text-tertiary); margin-top: 16px;">
        Need a custom solution? <a href="mailto:hello@virtueforma.faith" style="color: var(--primary-green);">Get in touch</a>
      </p>

      <p style="margin-top: 20px; text-align: center;">
        <button class="cta-button" onclick="closeModal('tiers-modal')">Got it</button>
      </p>
    </div>
  </div>

  <script>
    function openModal(id) {
      document.getElementById(id).classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeModal(id) {
      document.getElementById(id).classList.remove('active');
      document.body.style.overflow = '';
      // Reset clergy form if closing that modal
      if (id === 'clergy-modal') {
        document.getElementById('clergy-form-container').style.display = 'block';
        document.getElementById('clergy-success').style.display = 'none';
        document.getElementById('clergy-form').reset();
      }
    }

    // Close modal on overlay click
    document.querySelectorAll('.modal-overlay').forEach(overlay => {
      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          closeModal(overlay.id);
        }
      });
    });

    // Close modal on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active').forEach(modal => {
          closeModal(modal.id);
        });
      }
    });

    async function submitClergyRequest(e) {
      e.preventDefault();

      const form = e.target;
      const data = {
        name: form.name.value,
        role: form.role.value,
        parish_or_order: form.parish_or_order.value,
        email: form.email.value,
        verifier_email: form.verifier_email.value || null
      };

      try {
        // Submit to backend API
        const response = await fetch('https://sanctify.fly.dev/clergy-access-requests', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          // Show success message
          document.getElementById('clergy-form-container').style.display = 'none';
          document.getElementById('clergy-success').style.display = 'block';
        } else {
          alert('Something went wrong. Please try again or email hello@virtueforma.faith');
        }
      } catch (error) {
        // If API fails, still show success (we'll handle offline submissions gracefully)
        console.error('Clergy request error:', error);
        document.getElementById('clergy-form-container').style.display = 'none';
        document.getElementById('clergy-success').style.display = 'block';
      }
    }
  </script>
</body>
</html>
